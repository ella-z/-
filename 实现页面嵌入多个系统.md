# 实现页面嵌入多个系统
### 问题描述
  - 需要将系统A的页面嵌入到系统B、C、D等等系统中。
### 问题解决的过程
#### 1. 使用iframe直接请求目标页面地址
   - 说到页面嵌入第一个想法就是使用iframe请求嵌入，然后使用iframe请求目标页面地址达到实现的效果。
   - **结果：** 失败
   - **原因：** 因为请求目标页面是需要双重系统权限验证的，在点击查看页面的时候，系统B会验证一次用户是否有查看的权限，如果有，系统B会发送请求到系统A请求展示目标页面，系统A再对用户进行一次权限验证，
若验证通过，用户才被允许访问目标页面。所以，若使用iframe直接请求目标页面的话，系统A的权限验证就无法控制，并且若启用系统A中的权限验证，那么用户每打开一次都需要在iframe里面登录一次。
#### 2. 使用SSR
   - 当系统B请求系统A的时候，系统A先验证权限然后在服务端渲染完成页面并页面返回给系统B，系统B直接展示页面。
   - **结果：** 不确定。
   - **原因：** 这种方式对于整个项目的改动可能会比较大，所以暂时没有采用这种方法。
#### 3. 暴露路由
   1. 前端在路由跳转前的拦截函数中将push方法暴露出去。
      ```
        window.changeRouter = (path) =>{
          this.$router.push(path)
        }
      ```
   2. 使用webpack将静态资源的请求域名进行替换，因为系统B很有可能没有安装该类静态资源。
   3. 后端将页面返回给系统B的时候，在页面代码后面添加一个<script></script>脚本代码调用暴露出来的函数，让路由进行改变。
   - **结果：** 成功~ 但该方法比较偏门。
